# 键盘删除功能测试指南

## 测试环境

1. 启动开发服务器：`npm run dev:serve`
2. 在浏览器中打开：`http://localhost:3000`
3. 确保画布已加载完成

## 测试步骤

### 测试1：删除单个矩形
1. 从左侧工具栏拖拽一个矩形到画布中
2. 点击矩形使其被选中（应该显示蓝色边框）
3. 按下 `Delete` 键
4. **预期结果**：矩形被删除

### 测试2：删除单个圆形
1. 从左侧工具栏拖拽一个圆形到画布中
2. 点击圆形使其被选中
3. 按下 `Backspace` 键
4. **预期结果**：圆形被删除

### 测试3：删除连接线
1. 拖拽两个形状到画布中
2. 从工具栏选择连接线工具
3. 连接两个形状
4. 点击连接线使其被选中
5. 按下 `Delete` 键
6. **预期结果**：连接线被删除，形状保留

### 测试4：批量删除
1. 拖拽多个形状到画布中
2. 按住鼠标左键拖拽选择多个形状
3. 确保多个形状都被高亮显示
4. 按下 `Delete` 键
5. **预期结果**：所有选中的形状都被删除

### 测试5：文本编辑时的保护
1. 拖拽一个文本框到画布中
2. 双击文本框进入编辑模式
3. 在文本编辑状态下按下 `Delete` 键
4. **预期结果**：只删除文本内容，不删除文本框本身

### 测试6：撤销功能
1. 创建一个形状并删除它
2. 按下 `Ctrl+Z`
3. **预期结果**：删除的形状被恢复

### 测试7：焦点保护
1. 创建一个形状并选中
2. 点击浏览器地址栏（使画布失去焦点）
3. 按下 `Delete` 键
4. **预期结果**：形状不被删除

## 验证清单

- [ ] `Delete` 键可以删除选中的形状
- [ ] `Backspace` 键可以删除选中的形状
- [ ] 可以删除单个形状
- [ ] 可以批量删除多个形状
- [ ] 可以删除连接线
- [ ] 文本编辑时不会误删形状
- [ ] 画布失去焦点时不会误删
- [ ] 删除操作可以通过 `Ctrl+Z` 撤销
- [ ] 删除后历史记录正常工作

## 常见问题

### Q: 按Delete键没有反应？
A: 检查以下几点：
1. 确保形状已被选中（有蓝色边框或高亮）
2. 确保画布有焦点（点击画布空白区域）
3. 确保不在文本编辑模式

### Q: 删除了不想删除的形状？
A: 立即按 `Ctrl+Z` 撤销删除操作

### Q: 批量选择不工作？
A: 尝试以下方法：
1. 鼠标拖拽选择
2. 按住 `Ctrl` 键点击多个形状
3. 确保所有形状都显示高亮状态

## 浏览器兼容性

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

## 性能说明

- 删除单个形状：< 10ms
- 批量删除（10个形状）：< 50ms
- 历史记录保存：延迟100ms（防抖） 